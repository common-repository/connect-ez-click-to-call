var _0x1749=["<i>No active session</i>","<i>Unmute the call...</i>","#call-actions-table","http://www.webrtc.org/running-the-demos","m_local_hold_ok","o_ect_notify","bTransfering","IM-client/OMA1.0 sipML5-v1.2016.03.04","46298ocRUJO","1jIuRiV","innerHTML","https://ns313841.ovh.net/call.htm","<i>Failed to place remote party on hold</i>","play","failed_to_start","+audio","register"," input[name=test_callee]","bfcpSharing","getItem","#callee-","7211eDkSGu","<b>1:","length","o_ect_completed","hide","style",'"en,fr"',"Resume","disabled","</b>]</i>","protocol","onkeyup","2FsDPqf","mbwu","==stack event = ","webrtc-everywhere extension is not installed. Do you want to install it?\nIMPORTANT: You must restart your browser after the installation.","audio_remote","</i>","onload","localStorage","bHeld","accept","m_remote_resume","m_permission_refused","Reject","call-audio","info","i_ect_requested","291229nnQzQP","init","m_bfcp_info","addClass","m_stream_audio_remote_removed","connected","failed_to_stop","readyState","complete","m_local_hold_nok","<i>","connecting","<i>Early media started</i>","Call","terminating","</b></i>","Stack","<i>Disconnected: <b>","audio","https","btnBFCP","540590FqHCjV","started","getWebRtcType","<i>Call Transfer: <b>","call-screenshare","console","chrome","==session event = ","location","Calling ","101944KZxZxd","m_stream_audio_local_removed","substring","onmousemove","description","<i>Call transfer completed</i>","acceptTransfer","<i>Connecting...</i>","isWebSocketSupported","event","Your browser don't support WebRTC.\naudio/video calls will be disabled.\nDo you want to download a WebRTC-capable browser?","i_ect_failed","screencast_window_id","Failed to start BFCP share","BFCP Info: <i>","o_ect_failed","match","images/sipml-34x39.png","getSipResponseCode","<i>Hold / Resume failed</i>","transfer","Mute","startBfcpShare","o_ect_trying","val","5048mmMiWD","113006PEdzJO","createNotification","<i>Disconnected</i>","log","show","ndb","setZeroArtifacts","https://github.com/sarandogou/webrtc-everywhere","HangUp","<b>Failed to start the SIP stack</b>","hold","Failed to stop BFCP share","<i>Failed to unhold call</i>","m_early_media","calling","split","Incaming call","start","webkitNotifications","resume","<i>Call placed on hold</i>","class","stopBfcpShare","Your browser don't support WebSockets.\nDo you want to download a WebSocket-capable browser?","bMute","<i>Call transfer failed</i>","i_new_call","<i>Mute / Unmute failed</i>","getElementById","</b>","value","call","Incoming call from ","pause","https://www.google.com/intl/en/chrome/browser/","setDebugLevel","m_local_resume_ok","i_ao_request","Display Name: ","Screen sharing requires https://. Do you want to be redirected?","mvs","startNativeDebug","<i>Transfering the call...</i>","hidden","i_ect_completed","rejectTransfer","body","i_ect_notify","session","Unmute","getTransferDestinationFriendlyName","m_stream_video_remote_added","<b>2:","9cMzyst","removeClass","m_local_resume_nok","<i>Call transfer in progress...</i>","true","hangup","setMaxVideoSize","Media stream permission denied","m_permission_requested","Answer","visibility","Organization","visible","type","keyCode","cursor","+g.oma.sip-im","newSession","language","cancel","isScreenShareSupported","<i>Mute the call...</i>","43sIRcSG","is_connected","1nscOYa","<i>Terminating the call...</i>","Hold","fps","org.doubango.expert.disable_debug","default","<i>Resuming the call...</i>","setFps","org.doubango.expert.disable_video","m_stream_video_local_added","checkPermission","index.html","unknown","<i>Taken off hold by remote party</i>","isWebRtcSupported","setMaxBandwidthUp","setAttribute","opacity","mbwd","Failed to make call","onclick"],_0x2deb=function(e,t){return _0x1749[e-=280]},_0x56246e=_0x2deb;!function(e,t){for(var i=_0x2deb;;)try{if(202968===-parseInt(i(417))*-parseInt(i(289))+-parseInt(i(321))*parseInt(i(392))+parseInt(i(361))+-parseInt(i(333))*-parseInt(i(471))+parseInt(i(418))*parseInt(i(345))+parseInt(i(320))*parseInt(i(291))+-parseInt(i(382)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(_0x1749);var sTransferNumber,oRingTone,oRingbackTone,oSipStack,oSipSessionRegister,oSipSessionCall,oSipSessionTransferCall,videoRemote,videoLocal,audioRemote,oNotifICall,viewVideoLocal,viewVideoRemote,viewLocalScreencast,oConfigCall,oReadyStateTimer,bFullScreen=!1,bDisableVideo=!1;function postInit(){var e=_0x56246e;if(!SIPml[e(305)]()){if(SIPml.getNavigatorFriendlyName()==e(388))return void(confirm("You're using an old Chrome version or WebRTC is not enabled.\nDo you want to see how to enable WebRTC?")?window.location=e(315):window.location=e(302));confirm(e(348))&&(window[e(390)]=e(425))}SIPml[e(400)]()?(!SIPml[e(305)]()&&confirm(e(402))&&(window[e(390)]=e(452)),btnRegister[e(341)]=!1,document.body[e(338)][e(282)]=e(296),oConfigCall={audio_remote:audioRemote,screencast_window_id:0,bandwidth:{audio:void 0,video:void 0},events_listener:{events:"*",listener:onSipEventSession},sip_caps:[{name:e(283)},{name:e(285),value:e(339)}]}):confirm(e(441))?window[e(390)]=e(452):window[e(390)]=e(302)}function sipRegister(e,t){var i=_0x56246e;try{SIPml[i(453)](window.localStorage&&window[i(352)].getItem(i(295))==i(475)?"error":i(359));let e={realm:realm,impi:impi,impu:impu,password:t,display_name:i(456)+impi,websocket_proxy_url:websocket_proxy_url,outbound_proxy_url:"",ice_servers:ice_servers,enable_rtcweb_breaker:!1,events_listener:{events:"*",listener:onSipEventStack},enable_early_ims:!0,enable_media_stream_cache:!1,bandwidth:null,video_size:null,sip_headers:[{name:"User-Agent",value:i(319)},{name:i(482),value:"Doubango Telecom"}]};if(console[i(421)](e),0==(oSipStack=new(SIPml[i(377)])(e))[i(435)]())return;txtRegStatus[i(322)]=i(427)}catch(e){txtRegStatus[i(322)]=i(470)+e+i(447)}btnRegister[i(341)]=!1}function sipUnRegister(){var e=_0x56246e;oSipStack&&(oSipStack.stop(),jQuery("#callee-"+myUsername)[e(364)](e(341)))}function sipCall(e){var t=_0x56246e;if(!oSipStack||oSipSessionCall||tsk_string_is_null_or_empty(txtPhoneNumber[t(448)]))oSipSessionCall&&(txtCallStatus[t(322)]=t(399),oSipSessionCall[t(354)](oConfigCall));else{if(e==t(386)){if(!SIPml[t(287)]())return void alert("Screen sharing not supported. Are you using chrome 26+?");if(!location[t(343)][t(408)](t(380)))return void(confirm(t(457))&&(sipUnRegister(),window.location=t(323)))}if(btnCall.disabled=!0,btnHangUp[t(341)]=!1,0!=(oSipSessionCall=oSipStack[t(284)](e,oConfigCall))[t(449)](txtPhoneNumber[t(448)]))return oSipSessionCall=null,txtCallStatus[t(448)]=t(310),btnCall[t(341)]=!1,void(btnHangUp[t(341)]=!0)}}function sipShareScreen(){var e=_0x56246e;if("w4a"===SIPml[e(384)]()){if(!oSipSessionCall)return void(txtCallStatus[e(322)]=e(312));oSipSessionCall[e(330)]?0!=oSipSessionCall[e(440)](oConfigCall)?txtCallStatus[e(448)]=e(429):oSipSessionCall.bfcpSharing=!1:(oConfigCall[e(404)]=0,0!=oSipSessionCall[e(414)](oConfigCall)?txtCallStatus.value=e(405):oSipSessionCall[e(330)]=!0)}else sipCall(e(386))}function sipTransfer(){var e=_0x56246e;if(oSipSessionCall){var t=prompt("Enter destination number","");if(!tsk_string_is_null_or_empty(t)){if(btnTransfer[e(341)]=!0,0!=oSipSessionCall[e(412)](t))return txtCallStatus[e(322)]=e(443),void(btnTransfer[e(341)]=!1);txtCallStatus.innerHTML=e(460)}}}function sipToggleHoldResume(){var e=_0x56246e;if(oSipSessionCall&&(btnHoldResume.disabled=!0,txtCallStatus[e(322)]=oSipSessionCall[e(353)]?e(297):"<i>Holding the call...</i>",0!=(oSipSessionCall[e(353)]?oSipSessionCall[e(437)]():oSipSessionCall[e(428)]())))return txtCallStatus.innerHTML=e(411),void(btnHoldResume[e(341)]=!1)}function sipToggleMute(){var e=_0x56246e;if(oSipSessionCall){var t=!oSipSessionCall.bMute;if(txtCallStatus[e(322)]=e(t?288:313),0!=oSipSessionCall.mute(e(379),t))return void(txtCallStatus[e(322)]=e(445));oSipSessionCall[e(442)]=t,btnMute.value=e(t?467:413)}}function sipHangUp(){var e=_0x56246e;oSipSessionCall&&(txtCallStatus.innerHTML=e(292),oSipSessionCall[e(476)]({events_listener:{events:"*",listener:onSipEventSession}}))}function sipSendDTMF(e){var t=_0x56246e;if(oSipSessionCall&&e&&0==oSipSessionCall.dtmf(e))try{dtmfTone[t(325)]()}catch(e){}}function startRingTone(){var e=_0x56246e;try{ringtone[e(325)]()}catch(e){}}function stopRingTone(){var e=_0x56246e;try{ringtone[e(451)]()}catch(e){}}function startRingbackTone(){var e=_0x56246e;try{ringbacktone[e(325)]()}catch(e){}}function stopRingbackTone(){var e=_0x56246e;try{ringbacktone[e(451)]()}catch(e){}}function showNotifICall(e){var t=_0x56246e;window[t(436)]&&0==window[t(436)][t(301)]()&&(oNotifICall&&oNotifICall[t(286)](),(oNotifICall=window[t(436)][t(419)](t(409),t(434),t(450)+e)).onclose=function(){oNotifICall=null},oNotifICall[t(422)]())}function onKeyUp(e){var t=_0x56246e;27==(e=e||window[t(401)])[t(281)]?fullScreen(!1):e.ctrlKey&&e.shiftKey&&(65==e[t(281)]||86==e[t(281)])&&(bDisableVideo=65==e[t(281)],txtCallStatus.innerHTML="<i>Video "+(bDisableVideo?t(341):"enabled")+t(350),window.localStorage.setItem(t(299),bDisableVideo))}function onDivCallCtrlMouseMove(e){var t=_0x56246e;try{tsk_utils_have_stream()&&(btnCall[t(341)]=!tsk_utils_have_stream()||!oSipSessionRegister||!oSipSessionRegister[t(290)](),document.getElementById("divCallCtrl")[t(395)]=null)}catch(e){}}function uiOnConnectionEvent(e,t){var i=_0x56246e;btnRegister[i(341)]=e||t,btnUnRegister[i(341)]=!e&&!t,btnCall.disabled=!(e&&tsk_utils_have_webrtc()&&tsk_utils_have_stream()),btnHangUp[i(341)]=!oSipSessionCall}function uiBtnCallSetText(e){var t=_0x56246e;switch(e){case t(374):btnCall[t(448)]=btnCall[t(322)]=t(374),btnCall.setAttribute(t(439),"btn btn-primary"),btnCall[t(311)]=function(){sipCall(t(358))};break;default:btnCall[t(448)]=btnCall[t(322)]=e,btnCall[t(307)](t(439),"btn btn-primary"),btnCall[t(311)]=function(){sipCall("call-audio")}}}function uiCallTerminated(e){var t=_0x56246e;uiBtnCallSetText(t(374)),btnHangUp[t(448)]=t(426),btnHoldResume.value=t(428),btnMute[t(448)]="Mute",btnCall[t(341)]=!1,btnHangUp.disabled=!0,window[t(381)]&&(window[t(381)][t(341)]=!0),oSipSessionCall=null,stopRingbackTone(),stopRingTone(),txtCallStatus.innerHTML=t(371)+e+t(350),divCallOptions.style[t(308)]=0,oNotifICall&&(oNotifICall[t(286)](),oNotifICall=null),setTimeout(function(){oSipSessionCall||(txtCallStatus[t(322)]="")},2500)}function onSipEventStack(e){var t=_0x56246e;switch(tsk_utils_log_info(t(347)+e[t(280)]),e[t(280)]){case t(383):try{(oSipSessionRegister=this[t(284)]("register",{expires:200,events_listener:{events:"*",listener:onSipEventSession},sip_caps:[{name:t(283),value:null},{name:t(327),value:null},{name:t(285),value:t(339)}]}))[t(328)]()}catch(e){txtRegStatus[t(448)]=txtRegStatus[t(322)]=t(334)+e+"</b>",btnRegister.disabled=!1}break;case"stopping":case"stopped":case"failed_to_start":case t(367):var i=e[t(280)]==t(326)||e.type==t(367);oSipStack=null,oSipSessionRegister=null,oSipSessionCall=null,uiOnConnectionEvent(!1,!1),stopRingbackTone(),stopRingTone(),divCallOptions.style[t(308)]=0,txtCallStatus[t(322)]="",txtRegStatus[t(322)]=i?t(378)+e[t(396)]+t(376):t(420);break;case t(444):if(oSipSessionCall)e[t(284)][t(476)]();else{jQuery(t(314)).show(),(oSipSessionCall=e[t(284)]).setConfiguration(oConfigCall),uiBtnCallSetText(t(480)),btnHangUp[t(448)]=t(357),btnCall[t(341)]=!1,btnHangUp.disabled=!1,startRingTone();var a=oSipSessionCall.getRemoteFriendlyName()||t(303);txtCallStatus[t(322)]="<i>Incoming call from [<b>"+a+t(342),showNotifICall(a)}break;case t(479):divGlassPanel[t(338)].visibility=t(483);break;case"m_permission_accepted":case t(356):divGlassPanel[t(338)][t(481)]=t(461),"m_permission_refused"==e[t(280)]&&uiCallTerminated(t(478))}}function makeCall(e){var t=_0x56246e,i=jQuery("form#"+e+t(329))[t(416)]();jQuery("#callee-"+e)[t(364)](t(432)),console[t(421)](t(391)+i),callSession=sipStack.newSession(t(358),{audio_remote:document.getElementById("audio_remote"),events_listener:{events:"*",listener:eventsListener}}),callSession[t(449)](i)}function onSipEventSession(e){var t=_0x56246e;switch(tsk_utils_log_info(t(389)+e.type),e[t(280)]){case t(372):case t(366):var i=e[t(280)]==t(366);e.session==oSipSessionRegister?(jQuery("#callee-"+myUsername)[t(364)](t(432)),uiOnConnectionEvent(i,!i),txtRegStatus[t(322)]="<i>"+e[t(396)]+t(350),i&&jQuery(t(332)+myUsername).removeClass(t(341))[t(472)](t(432))):e.session==oSipSessionCall&&(jQuery(t(314))[t(422)](),btnHangUp[t(448)]=t(426),btnCall[t(341)]=!0,btnHangUp[t(341)]=!1,btnTransfer[t(341)]=!1,window[t(381)]&&(window[t(381)][t(341)]=!1),i&&(stopRingbackTone(),stopRingTone(),oNotifICall&&(oNotifICall[t(286)](),oNotifICall=null)),txtCallStatus[t(322)]=t(371)+e[t(396)]+t(350),divCallOptions[t(338)][t(308)]=i?1:0);break;case t(375):case"terminated":jQuery(t(314))[t(337)](),jQuery("#callee-"+myUsername)[t(472)](t(366)),e[t(466)]==oSipSessionRegister?(uiOnConnectionEvent(!1,!1),oSipSessionCall=null,oSipSessionRegister=null,txtRegStatus.innerHTML=t(371)+e[t(396)]+t(350)):e[t(466)]==oSipSessionCall&&uiCallTerminated(e.description);break;case t(300):case"m_stream_video_local_removed":case t(469):case"m_stream_video_remote_removed":e[t(466)];break;case"m_stream_audio_local_added":case t(393):case"m_stream_audio_remote_added":case t(365):jQuery(t(332)+myUsername).addClass("connected");break;case"i_ect_new_call":oSipSessionTransferCall=e[t(466)];break;case t(455):if(e.session==oSipSessionCall){var a=e[t(410)]();(180==a||183==a)&&(startRingbackTone(),txtCallStatus.innerHTML="<i>Remote ringing...</i>")}break;case t(431):e[t(466)]==oSipSessionCall&&(stopRingbackTone(),stopRingTone(),txtCallStatus[t(322)]=t(373));break;case t(316):e.session==oSipSessionCall&&(oSipSessionCall.bTransfering&&(oSipSessionCall[t(318)]=!1),btnHoldResume[t(448)]=t(340),btnHoldResume.disabled=!1,txtCallStatus[t(322)]=t(438),oSipSessionCall.bHeld=!0);break;case t(370):e[t(466)]==oSipSessionCall&&(oSipSessionCall.bTransfering=!1,btnHoldResume[t(448)]=t(293),btnHoldResume[t(341)]=!1,txtCallStatus[t(322)]=t(324));break;case t(454):e.session==oSipSessionCall&&(oSipSessionCall[t(318)]=!1,btnHoldResume.value=t(293),btnHoldResume[t(341)]=!1,txtCallStatus[t(322)]="<i>Call taken off hold</i>",oSipSessionCall[t(353)]=!1);break;case t(473):e[t(466)]==oSipSessionCall&&(oSipSessionCall[t(318)]=!1,btnHoldResume[t(341)]=!1,txtCallStatus[t(322)]=t(430));break;case"m_remote_hold":e[t(466)]==oSipSessionCall&&(txtCallStatus[t(322)]="<i>Placed on hold by remote party</i>");break;case t(355):e.session==oSipSessionCall&&(txtCallStatus[t(322)]=t(304));break;case t(363):e[t(466)]==oSipSessionCall&&(txtCallStatus[t(322)]=t(406)+e[t(396)]+t(350));break;case t(415):e[t(466)]==oSipSessionCall&&(txtCallStatus.innerHTML="<i>Call transfer in progress...</i>");break;case"o_ect_accepted":e[t(466)]==oSipSessionCall&&(txtCallStatus[t(322)]="<i>Call transfer accepted</i>");break;case t(336):case t(462):e[t(466)]==oSipSessionCall&&(txtCallStatus.innerHTML=t(397),btnTransfer[t(341)]=!1,oSipSessionTransferCall&&(oSipSessionCall=oSipSessionTransferCall),oSipSessionTransferCall=null);break;case t(407):case t(403):e[t(466)]==oSipSessionCall&&(txtCallStatus[t(322)]="<i>Call transfer failed</i>",btnTransfer[t(341)]=!1);break;case t(317):case t(465):e[t(466)]==oSipSessionCall&&(txtCallStatus[t(322)]=t(385)+e.getSipResponseCode()+" "+e[t(396)]+t(376),e[t(410)]()>=300&&(oSipSessionCall[t(353)]&&oSipSessionCall[t(437)](),btnTransfer[t(341)]=!1));break;case t(360):if(e[t(466)]==oSipSessionCall){var o="Do you accept call transfer to ["+e[t(468)]()+"]?";if(confirm(o)){txtCallStatus[t(322)]=t(474),oSipSessionCall[t(398)]();break}oSipSessionCall[t(463)]()}}}C={divKeyPadWidth:220},window[_0x56246e(351)]=function(){var e=_0x56246e;window[e(387)]&&window[e(387)][e(359)]&&window[e(387)][e(359)]("location="+window[e(390)]),audioRemote=document[e(446)](e(349)),document[e(344)]=onKeyUp,document[e(464)][e(344)]=onKeyUp,SIPml[e(453)](window[e(352)]&&window.localStorage[e(331)](e(295))==e(475)?"error":"info"),uiBtnCallSetText(e(374));var t=function(t){for(var i=e,a=window.location.search[i(394)](1)[i(433)]("&"),o=0;o<a[i(335)];o++){var n=a[o][i(433)]("=");if(decodeURIComponent(n[0])===t)return decodeURIComponent(n[1])}return null};oReadyStateTimer=setInterval(function(){var i,a,o,n,l,s,r,c,S=e;document[S(368)]===S(369)&&(clearInterval(oReadyStateTimer),i=e,a=t("wt"),o=t(i(294)),n=t(i(458)),l=t(i(346)),s=t(i(309)),r=t("za"),c=t(i(423)),a&&SIPml.setWebRtcType(a),SIPml[i(362)](postInit),o&&SIPml[i(298)](parseFloat(o)),n&&SIPml[i(477)](n),l&&SIPml[i(306)](parseFloat(l)),s&&SIPml.setMaxBandwidthDown(parseFloat(s)),r&&SIPml[i(424)](r===i(475)),c==i(475)&&SIPml[i(459)]())},500)};